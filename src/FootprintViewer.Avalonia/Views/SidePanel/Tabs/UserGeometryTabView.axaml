<UserControl x:Class="FootprintViewer.Avalonia.Views.SidePanel.Tabs.UserGeometryTabView"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:i="clr-namespace:Avalonia.Xaml.Interactivity;assembly=Avalonia.Xaml.Interactivity"
             xmlns:ia="clr-namespace:Avalonia.Xaml.Interactions.Core;assembly=Avalonia.Xaml.Interactions"
			 xmlns:items="clr-namespace:FootprintViewer.ViewModels.SidePanel.Items;assembly=FootprintViewer"
             xmlns:vmd="clr-namespace:FootprintViewer.Designer;assembly=FootprintViewer"
             xmlns:itemsView="clr-namespace:FootprintViewer.Avalonia.Views.SidePanel.Items"
             x:Name="UserGeometryName"
             mc:Ignorable="d"
             d:DesignWidth="380" d:DesignHeight="450"
			 d:DataContext="{x:Static vmd:DesignData.UserGeometryTab}">

	<UserControl.Styles>
		<Style Selector="ListBoxItem">
			<Setter Property="Padding" Value="12,4"/>
		</Style>
	</UserControl.Styles>

	<Panel>
		<ProgressBar IsVisible="{Binding IsLoading}"
					 Classes="Circle"
					 VerticalAlignment="Center"
					 HorizontalAlignment="Center"
					 IsIndeterminate="True"/>

		<ListBox Items="{Binding Items}"
				 IsVisible="{Binding !IsLoading}">
			<ListBox.ItemTemplate>
				<DataTemplate DataType="items:UserGeometryViewModel">
					<itemsView:UserGeometryView x:Name="userGeometryItem"
												DataContext="{Binding}">
						<i:Interaction.Behaviors>
							<ia:EventTriggerBehavior EventName="RemoveClick" SourceObject="{Binding #userGeometryItem}">
								<ia:InvokeCommandAction Command="{Binding #UserGeometryName.DataContext.Remove}"
														CommandParameter="{Binding #userGeometryItem.DataContext}" />
							</ia:EventTriggerBehavior>
						</i:Interaction.Behaviors>
					</itemsView:UserGeometryView>
				</DataTemplate>
			</ListBox.ItemTemplate>
		</ListBox>
	</Panel>

</UserControl>
